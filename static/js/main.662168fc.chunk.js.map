{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","reducer.js","context.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","reducer","state","type","payload","goods","loading","order","map","item","quantity","itemIndex","findIndex","orderItem","newOrder","newItem","index","alertName","name","isCartShow","filter","el","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","removeFromCart","itemId","handleCartShow","addToCart","increaseAmount","decreaseAmount","setGoods","data","Provider","Preloader","GoodsItem","props","description","price","full_background","useContext","src","alt","onClick","style","fontSize","GoodsList","length","Cart","Function","prototype","CartItem","CartList","totalPrice","reduce","sum","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","Authorization","process","then","response","json","featured","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0LAAO,SAASA,IACd,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGC,KAAK,KAAKD,UAAU,aAAvB,sBAGA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BACE,mBACEC,KAAK,wCACLE,OAAO,SACPC,IAAI,aAHN,2BCTZ,SAASC,IACP,OACE,wBAAQL,UAAU,8BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAIM,MAAOC,cADhB,kBAEE,mBACEP,UAAU,iCACVC,KAAK,wCACLE,OAAO,SACPC,IAAI,aAJN,yB,yBCNH,SAASI,EAAQC,EAAjB,GAA4C,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACrC,OAAQD,GACN,IAAK,YACH,OAAO,2BACFD,GADL,IAEEG,MAAOD,GAAW,GAClBE,SAAS,IAEb,IAAK,kBACH,OAAO,2BACFJ,GADL,IAEEK,MAAOL,EAAMK,MAAMC,KAAI,SAACC,GACtB,GAAIA,EAAKd,KAAOS,EAAQT,GAAI,CAC1B,IAAMe,EAAWD,EAAKC,SAAW,EACjC,OAAO,2BACFD,GADL,IAEEC,SAAUA,IAGZ,OAAO,eACFD,QAMb,IAAK,kBACH,OAAO,2BACFP,GADL,IAEEK,MAAOL,EAAMK,MAAMC,KAAI,SAACC,GACtB,GAAIA,EAAKd,KAAOS,EAAQT,GAAI,CAC1B,IAAMe,EAAWD,EAAKC,SAAW,EACjC,OAAO,2BACFD,GADL,IAEEC,SAAUA,EAAW,EAAIA,EAAW,IAGtC,OAAO,eACFD,QAMb,IAAK,cACH,IAAME,EAAYT,EAAMK,MAAMK,WAC5B,SAACC,GAAD,OAAeA,EAAUlB,KAAOS,EAAQT,MAEtCmB,EAAW,KACf,GAAIH,EAAY,EAAG,CACjB,IAAMI,EAAO,2BACRX,GADQ,IAEXM,SAAU,IAEZI,EAAQ,sBAAOZ,EAAMK,OAAb,CAAoBQ,SAE5BD,EAAWZ,EAAMK,MAAMC,KAAI,SAACK,EAAWG,GACrC,OAAIA,IAAUL,EACL,2BACFE,GADL,IAEEH,WAAYG,EAAUH,WAGjBG,KAIb,OAAO,2BACFX,GADL,IAEEK,MAAOO,EACPG,UAAWb,EAAQc,OAIvB,IAAK,mBACH,OAAO,2BACFhB,GADL,IAEEiB,YAAajB,EAAMiB,aAGvB,IAAK,mBACH,OAAO,2BACFjB,GADL,IAEEK,MAAOL,EAAMK,MAAMa,QAAO,SAACC,GAAD,OAAQA,EAAG1B,KAAOS,EAAQT,QAGxD,IAAK,cACH,OAAO,2BACFO,GADL,IAEEe,UAAW,KAGf,QACE,OAAOf,GC1FN,IAAMoB,EAAcC,0BAErBC,EAAe,CACnBnB,MAAO,GACPC,SAAS,EACTC,MAAO,GACPY,YAAY,EACZF,UAAW,IAGAQ,EAAkB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChC,EAA0BC,qBAAW1B,EAASuB,GAA9C,mBAAOI,EAAP,KAAcC,EAAd,KAgCA,OA9BAD,EAAME,WAAa,WACjBD,EAAS,CAAE1B,KAAM,iBAGnByB,EAAMG,eAAiB,SAACC,GACtBH,EAAS,CAAE1B,KAAM,mBAAoBC,QAAS,CAAET,GAAIqC,MAGtDJ,EAAMK,eAAiB,WACrBJ,EAAS,CACP1B,KAAM,sBAIVyB,EAAMM,UAAY,SAACzB,GACjBoB,EAAS,CAAE1B,KAAM,cAAeC,QAASK,KAG3CmB,EAAMO,eAAiB,SAACH,GACtBH,EAAS,CAAE1B,KAAM,kBAAmBC,QAAS,CAAET,GAAIqC,MAGrDJ,EAAMQ,eAAiB,SAACJ,GACtBH,EAAS,CAAE1B,KAAM,kBAAmBC,QAAS,CAAET,GAAIqC,MAGrDJ,EAAMS,SAAW,SAACC,GAChBT,EAAS,CAAE1B,KAAM,YAAaC,QAASkC,KAGlC,cAAChB,EAAYiB,SAAb,CAAsBX,MAAOA,EAA7B,SAAqCF,KC9C9C,SAASc,IACP,OACE,qBAAK/C,UAAU,WAAf,SACE,qBAAKA,UAAU,oBCArB,SAASgD,EAAUC,GACjB,IAAQ/C,EAAkD+C,EAAlD/C,GAAIuB,EAA8CwB,EAA9CxB,KAAMyB,EAAwCD,EAAxCC,YAAaC,EAA2BF,EAA3BE,MAAOC,EAAoBH,EAApBG,gBAE9BX,EAAcY,qBAAWxB,GAAzBY,UAER,OACE,sBAAKzC,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKE,GAAG,WAAWoD,IAAKF,EAAiBG,IAAK9B,MAEhD,sBAAKzB,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8ByB,IAC9B,4BAAIyB,OAEN,sBAAKlD,UAAU,cAAf,UACE,wBAAQA,UAAU,MAAMwD,QAAS,kBAAMf,EAAU,CAAEvC,KAAIuB,OAAM0B,WAA7D,iBAGA,uBAAMnD,UAAU,QAAQyD,MAAO,CAAEC,SAAU,UAA3C,UACGP,EADH,iBCjBR,SAASQ,IACP,MAAuBN,qBAAWxB,GAA1BjB,aAAR,MAAgB,GAAhB,EAEA,OAAKA,EAAMgD,OAKT,qBAAK5D,UAAU,QAAf,SACGY,EAAMG,KAAI,SAACC,GAAD,OACT,cAACgC,EAAD,eAA6BhC,GAAbA,EAAKd,SANlB,8CCLX,SAAS2D,IACP,MACER,qBAAWxB,GADLf,EAAR,EAAQA,MAAR,IAAe0B,sBAAf,MAAgCsB,SAASC,UAAzC,EAGA,OACE,sBAAK/D,UAAU,gCAAgCwD,QAAShB,EAAxD,UACE,mBAAGxC,UAAU,iBAAb,2BACCc,EAAM8C,OACL,uBAAM5D,UAAU,gBAAhB,UAAiCc,EAAM8C,OAAvC,OACE,QCTV,SAASI,EAASf,GAChB,IAAQ/C,EAA8B+C,EAA9B/C,GAAIuB,EAA0BwB,EAA1BxB,KAAM0B,EAAoBF,EAApBE,MAAOlC,EAAagC,EAAbhC,SACzB,EACEoC,qBAAWxB,GADLS,EAAR,EAAQA,eAAgBI,EAAxB,EAAwBA,eAAgBC,EAAxC,EAAwCA,eAGxC,OACE,qBAAI3C,UAAU,kBAAd,UACGyB,EACD,mBACEzB,UAAU,+BACVwD,QAAS,kBAAMb,EAAezC,IAFhC,oBAFF,IAQIe,EACF,mBACEjB,UAAU,+BACVwD,QAAS,kBAAMd,EAAexC,IAFhC,iBATF,KAeKiD,EAAQlC,EAfb,QAgBE,sBAAMjB,UAAU,oBAAoBwD,QAAS,kBAAMlB,EAAepC,IAAlE,SACE,mBAAGF,UAAU,6BAAb,wBCtBR,SAASiE,IACP,MACEZ,qBAAWxB,GADb,IAAQf,aAAR,MAAgB,GAAhB,MAAoB0B,sBAApB,MAAqCsB,SAASC,UAA9C,EAGMG,EAAapD,EAAMqD,QAAO,SAACC,EAAKxC,GAAN,OAAawC,EAAMxC,EAAGuB,MAAQvB,EAAGX,WAAU,GAE3E,OACE,qBAAIjB,UAAU,uBAAd,UACE,oBAAIA,UAAU,yBAAd,kBACCc,EAAM8C,OACL9C,EAAMC,KAAI,SAACC,GAAD,OAAU,cAACgD,EAAD,eAA4BhD,GAAbA,EAAKd,OAExC,oBAAIF,UAAU,kBAAd,6BAGF,qBAAIA,UAAU,yBAAd,0BAAqDkE,EAArD,WACA,oBAAIlE,UAAU,wBAAd,SACE,wBAAQA,UAAU,MAAlB,4BAGF,mBAAGA,UAAU,4BAA4BwD,QAAShB,EAAlD,sBCrBN,SAAS6B,IACP,MACEhB,qBAAWxB,GADb,IAAQL,UAAWC,OAAnB,MAA0B,GAA1B,MAA8BY,kBAA9B,MAA2CyB,SAASC,UAApD,EAYA,OATAO,qBAAU,WACR,IAAMC,EAAUC,WAAWnC,EAAY,KAEvC,OAAO,WACLoC,aAAaF,MAGd,CAAC9C,IAGF,qBAAKvB,GAAG,kBAAR,SACE,sBAAKF,UAAU,QAAf,UAAwByB,EAAxB,0BCVN,SAASiD,IACP,MACErB,qBAAWxB,GADLL,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,WAAYZ,EAA/B,EAA+BA,MAAOD,EAAtC,EAAsCA,QAAS+B,EAA/C,EAA+CA,SAiB/C,OAdA0B,qBAAU,WACRK,MAAM,yCAA0C,CAC9CC,QAAS,CACPC,cAAeC,yCAGhBC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAAClC,GACLD,EAASC,EAAKqC,eAIjB,IAGD,uBAAMlF,UAAU,oBAAhB,UACE,cAAC6D,EAAD,CAAM5C,SAAUH,EAAM8C,SACrB/C,EAAU,cAACkC,EAAD,IAAgB,cAACY,EAAD,IAC1BjC,GAAc,cAACuC,EAAD,IACdzC,GAAa,cAAC6C,EAAD,OCbLc,MAZf,WACE,OACE,qCACE,cAACpF,EAAD,IACA,cAAC,EAAD,UACE,cAAC2E,EAAD,MAEF,cAACrE,EAAD,Q,MCRN+E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.662168fc.chunk.js","sourcesContent":["export function Header() {\n  return (\n    <nav className=\"green darken-1\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#!\" className=\"brand-logo\">\n          Toy-Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a\n              href=\"https://github.com/IlyaMur/react_shop\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Repo\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n","function Footer() {\n  return (\n    <footer className=\"page-footer green lighten-4\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          Â© {new Date().getFullYear()} Copyright Text\n          <a\n            className=\"grey-text text-lighten-4 right\"\n            href=\"https://github.com/IlyaMur/react_shop\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport { Footer };\n","export function reducer(state, { type, payload }) {\n  switch (type) {\n    case \"SET_GOODS\":\n      return {\n        ...state,\n        goods: payload || [],\n        loading: false,\n      };\n    case \"INCREASE_AMOUNT\":\n      return {\n        ...state,\n        order: state.order.map((item) => {\n          if (item.id === payload.id) {\n            const quantity = item.quantity + 1;\n            return {\n              ...item,\n              quantity: quantity,\n            };\n          } else {\n            return {\n              ...item,\n            };\n          }\n        }),\n      };\n\n    case \"DECREASE_AMOUNT\":\n      return {\n        ...state,\n        order: state.order.map((item) => {\n          if (item.id === payload.id) {\n            const quantity = item.quantity - 1;\n            return {\n              ...item,\n              quantity: quantity > 0 ? quantity : 0,\n            };\n          } else {\n            return {\n              ...item,\n            };\n          }\n        }),\n      };\n\n    case \"ADD_TO_CART\": {\n      const itemIndex = state.order.findIndex(\n        (orderItem) => orderItem.id === payload.id\n      );\n      let newOrder = null;\n      if (itemIndex < 0) {\n        const newItem = {\n          ...payload,\n          quantity: 1,\n        };\n        newOrder = [...state.order, newItem];\n      } else {\n        newOrder = state.order.map((orderItem, index) => {\n          if (index === itemIndex) {\n            return {\n              ...orderItem,\n              quantity: ++orderItem.quantity,\n            };\n          } else {\n            return orderItem;\n          }\n        });\n      }\n      return {\n        ...state,\n        order: newOrder,\n        alertName: payload.name,\n      };\n    }\n\n    case \"HANDLE_CART_SHOW\":\n      return {\n        ...state,\n        isCartShow: !state.isCartShow,\n      };\n\n    case \"REMOVE_FROM_CART\":\n      return {\n        ...state,\n        order: state.order.filter((el) => el.id !== payload.id),\n      };\n\n    case \"CLOSE_ALERT\":\n      return {\n        ...state,\n        alertName: \"\",\n      };\n\n    default:\n      return state;\n  }\n}\n","import { createContext, useReducer } from \"react\";\nimport { reducer } from \"./reducer\";\n\nexport const ShopContext = createContext();\n\nconst initialState = {\n  goods: [],\n  loading: true,\n  order: [],\n  isCartShow: false,\n  alertName: \"\",\n};\n\nexport const ContextProvider = ({ children }) => {\n  const [value, dispatch] = useReducer(reducer, initialState);\n\n  value.closeAlert = () => {\n    dispatch({ type: \"CLOSE_ALERT\" });\n  };\n\n  value.removeFromCart = (itemId) => {\n    dispatch({ type: \"REMOVE_FROM_CART\", payload: { id: itemId } });\n  };\n\n  value.handleCartShow = () => {\n    dispatch({\n      type: \"HANDLE_CART_SHOW\",\n    });\n  };\n\n  value.addToCart = (item) => {\n    dispatch({ type: \"ADD_TO_CART\", payload: item });\n  };\n\n  value.increaseAmount = (itemId) => {\n    dispatch({ type: \"INCREASE_AMOUNT\", payload: { id: itemId } });\n  };\n\n  value.decreaseAmount = (itemId) => {\n    dispatch({ type: \"DECREASE_AMOUNT\", payload: { id: itemId } });\n  };\n\n  value.setGoods = (data) => {\n    dispatch({ type: \"SET_GOODS\", payload: data });\n  };\n\n  return <ShopContext.Provider value={value}>{children}</ShopContext.Provider>;\n};\n","function Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  );\n}\n\nexport { Preloader };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\n\nfunction GoodsItem(props) {\n  const { id, name, description, price, full_background } = props;\n\n  const { addToCart } = useContext(ShopContext);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img id=\"back-img\" src={full_background} alt={name} />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button className=\"btn\" onClick={() => addToCart({ id, name, price })}>\n          Buy\n        </button>\n        <span className=\"right\" style={{ fontSize: \"1.8rem\" }}>\n          {price} rub.\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport { GoodsItem };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\nimport { GoodsItem } from \"./GoodsItem\";\n\nfunction GoodsList() {\n  const { goods = [] } = useContext(ShopContext);\n\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.id} {...item} />\n      ))}\n    </div>\n  );\n}\n\nexport { GoodsList };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\n\nfunction Cart() {\n  const { order, handleCartShow = Function.prototype } =\n    useContext(ShopContext);\n\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleCartShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {order.length ? (\n        <span className=\"cart-quantity\">{order.length} </span>\n      ) : null}\n    </div>\n  );\n}\n\nexport { Cart };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\n\nfunction CartItem(props) {\n  const { id, name, price, quantity } = props;\n  const { removeFromCart, increaseAmount, decreaseAmount } =\n    useContext(ShopContext);\n\n  return (\n    <li className=\"collection-item\">\n      {name}\n      <i\n        className=\"material-icons cart-quantity\"\n        onClick={() => decreaseAmount(id)}\n      >\n        remove\n      </i>\n      x{quantity}\n      <i\n        className=\"material-icons cart-quantity\"\n        onClick={() => increaseAmount(id)}\n      >\n        add\n      </i>\n      = {price * quantity} rub.\n      <span className=\"secondary-content\" onClick={() => removeFromCart(id)}>\n        <i className=\"material-icons cart-delete\">close</i>\n      </span>\n    </li>\n  );\n}\n\nexport { CartItem };\n","import { useContext } from \"react\";\nimport { ShopContext } from \"../context\";\nimport { CartItem } from \"./CartItem\";\n\nfunction CartList() {\n  const { order = [], handleCartShow = Function.prototype } =\n    useContext(ShopContext);\n\n  const totalPrice = order.reduce((sum, el) => sum + el.price * el.quantity, 0);\n\n  return (\n    <ul className=\"collection cart-list\">\n      <li className=\"collection-item active\">Cart</li>\n      {order.length ? (\n        order.map((item) => <CartItem key={item.id} {...item} />)\n      ) : (\n        <li className=\"collection-item\"> Cart is empty </li>\n      )}\n\n      <li className=\"collection-item active\">Total price: {totalPrice} rub.</li>\n      <li className=\"collection-item right\">\n        <button className=\"btn\"> Make order </button>\n      </li>\n\n      <i className=\"material-icons cart-close\" onClick={handleCartShow}>\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport { CartList };\n","import { ShopContext } from \"../context\";\nimport { useEffect, useContext } from \"react\";\n\nfunction Alert() {\n  const { alertName: name = \"\", closeAlert = Function.prototype } =\n    useContext(ShopContext);\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 2000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{name} added to the Cart</div>\n    </div>\n  );\n}\n\nexport { Alert };\n","import { useEffect, useContext } from \"react\";\nimport { ShopContext } from \"../context\";\nimport { Preloader } from \"./Preloader\";\nimport { GoodsList } from \"./GoodsList\";\nimport { Cart } from \"./Cart\";\nimport { CartList } from \"./CartList\";\nimport { Alert } from \"./Alert\";\n\nfunction Shop() {\n  const { alertName, isCartShow, order, loading, setGoods } =\n    useContext(ShopContext);\n\n  useEffect(function getGoods() {\n    fetch(\"https://fortniteapi.io/v1/shop?lang=en\", {\n      headers: {\n        Authorization: process.env.REACT_APP_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setGoods(data.featured);\n      });\n\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} />\n      {loading ? <Preloader /> : <GoodsList />}\n      {isCartShow && <CartList />}\n      {alertName && <Alert />}\n    </main>\n  );\n}\n\nexport { Shop };\n","import { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { Shop } from \"./components/Shop\";\n\nimport { ContextProvider } from \"./context\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}