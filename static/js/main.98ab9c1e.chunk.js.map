{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToCart","src","alt","onClick","style","fontSize","GoodsList","goods","Function","prototype","length","map","item","Cart","quantity","handleCartShow","CartItem","removeFromCart","decreaseAmount","increaseAmount","CartList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isCartShow","setCartShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0LAAO,SAASA,IACd,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGC,KAAK,KAAKD,UAAU,aAAvB,4BAGA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BACE,mBACEC,KAAK,wCACLE,OAAO,SACPC,IAAI,aAHN,2BCTZ,SAASC,IACP,OACE,wBAAQL,UAAU,8BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAIM,MAAOC,cADhB,kBAEE,mBACEP,UAAU,iCACVC,KAAK,wCACLE,OAAO,SACPC,IAAI,aAJN,yB,yBCNV,SAASI,IACP,OACE,qBAAKR,UAAU,WAAf,SACE,qBAAKA,UAAU,oBCHrB,SAASS,EAAUC,GACjB,IAAMR,EAA6DQ,EAA7DR,GAAIS,EAAyDD,EAAzDC,KAAMC,EAAmDF,EAAnDE,YAAaC,EAAsCH,EAAtCG,MAAOC,EAA+BJ,EAA/BI,gBAAiBC,EAAcL,EAAdK,UAErD,OACE,sBAAKf,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKE,GAAG,WAAWc,IAAKF,EAAiBG,IAAKN,MAEhD,sBAAKX,UAAU,eAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BW,IAC9B,4BAAIC,OAEN,sBAAKZ,UAAU,cAAf,UACE,wBAAQA,UAAU,MAAMkB,QAAS,kBAAMH,EAAU,CAAEb,KAAIS,OAAME,WAA7D,iBAGA,uBAAMb,UAAU,QAAQmB,MAAO,CAAEC,SAAU,UAA3C,UACGP,EADH,iBCdR,SAASQ,EAAUX,GACjB,MAAuDA,EAA/CY,aAAR,MAAgB,GAAhB,IAAuDZ,EAAnCK,iBAApB,MAAgCQ,SAASC,UAAzC,EAEA,OAAKF,EAAMG,OAKT,qBAAKzB,UAAU,QAAf,SACGsB,EAAMI,KAAI,SAACC,GAAD,OACT,cAAClB,EAAD,2BAA6BkB,GAA7B,IAAmCZ,UAAWA,IAA9BY,EAAKzB,SANlB,8CCNX,SAAS0B,EAAKlB,GACZ,MAA8DA,EAAtDmB,gBAAR,MAAmB,EAAnB,IAA8DnB,EAAxCoB,sBAAtB,MAAuCP,SAASC,UAAhD,EAEA,OACE,sBAAKxB,UAAU,gCAAgCkB,QAASY,EAAxD,UACE,mBAAG9B,UAAU,iBAAb,2BACC6B,EAAW,uBAAM7B,UAAU,gBAAhB,UAAiC6B,EAAjC,OAAqD,QCNvE,SAASE,EAASrB,GAChB,IACER,EAOEQ,EAPFR,GACAS,EAMED,EANFC,KACAE,EAKEH,EALFG,MACAgB,EAIEnB,EAJFmB,SAJF,EAQInB,EAHFsB,sBALF,MAKmBT,SAASC,UAL5B,IAQId,EAFFuB,sBANF,MAMmBV,SAASC,UAN5B,IAQId,EADFwB,sBAPF,MAOmBX,SAASC,UAP5B,EAUA,OACE,qBAAIxB,UAAU,kBAAd,UACGW,EACD,mBACEX,UAAU,+BACVkB,QAAS,kBAAMe,EAAe/B,IAFhC,oBAFF,IAQI2B,EACF,mBACE7B,UAAU,+BACVkB,QAAS,kBAAMgB,EAAehC,IAFhC,iBATF,KAeKW,EAAQgB,EAfb,QAgBE,sBAAM7B,UAAU,oBAAoBkB,QAAS,kBAAMc,EAAe9B,IAAlE,SACE,mBAAGF,UAAU,6BAAb,wBC3BR,SAASmC,EAASzB,GAChB,MAMIA,EALF0B,aADF,MACU,GADV,IAMI1B,EAJFoB,sBAFF,MAEmBP,SAASC,UAF5B,IAMId,EAHFsB,sBAHF,MAGmBT,SAASC,UAH5B,IAMId,EAFFuB,sBAJF,MAImBV,SAASC,UAJ5B,IAMId,EADFwB,sBALF,MAKmBX,SAASC,UAL5B,EAQMa,EAAaD,EAAME,QAAO,SAACC,EAAKC,GAAN,OAAaD,EAAMC,EAAG3B,MAAQ2B,EAAGX,WAAU,GAE3E,OACE,qBAAI7B,UAAU,uBAAd,UACE,oBAAIA,UAAU,yBAAd,kBACCoC,EAAMX,OACLW,EAAMV,KAAI,SAACC,GAAD,OACR,cAACI,EAAD,2BAEMJ,GAFN,IAGEK,eAAgBA,EAChBC,eAAgBA,EAChBC,eAAgBA,IAJXP,EAAKzB,OAQd,oBAAIF,UAAU,kBAAd,6BAGF,qBAAIA,UAAU,yBAAd,0BAAqDqC,EAArD,WACA,oBAAIrC,UAAU,wBAAd,SACE,wBAAQA,UAAU,MAAlB,4BAGF,mBAAGA,UAAU,4BAA4BkB,QAASY,EAAlD,sBCjCN,SAASW,EAAM/B,GACb,MAAuDA,EAA/CC,YAAR,MAAe,GAAf,IAAuDD,EAApCgC,kBAAnB,MAAgCnB,SAASC,UAAzC,EAWA,OATAmB,qBAAU,WACR,IAAMC,EAAUC,WAAWH,EAAY,KAEvC,OAAO,WACLI,aAAaF,MAGd,CAACjC,IAGF,qBAAKT,GAAG,kBAAR,SACE,sBAAKF,UAAU,QAAf,UAAwBW,EAAxB,0BCRN,SAASoC,IACP,MAA0BC,mBAAS,IAAnC,mBAAO1B,EAAP,KAAc2B,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAAS,IAAnC,mBAAOZ,EAAP,KAAcgB,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KAgEM1B,EAAiB,WACrBwB,GAAaD,IAGfV,qBAAU,WACRc,MAAM,yCAA0C,CAC9CC,QAAS,CACPC,cAtESC,yCAyEVC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,EAAKC,UAAYhB,EAASe,EAAKC,UAC/Bd,GAAW,QAEd,IAMH,OACE,uBAAMnD,UAAU,oBAAhB,UACE,cAAC4B,EAAD,CAAMC,SAAUO,EAAMX,OAAQK,eAAgBA,IAC7CoB,EACC,cAAC1C,EAAD,IAEA,cAACa,EAAD,CAAWC,MAAOA,EAAOP,UAxFb,SAACY,GACjB,IAAMuC,EAAY9B,EAAM+B,WAAU,SAACC,GAAD,OAAeA,EAAUlE,KAAOyB,EAAKzB,MAEvE,GAAIgE,EAAY,EAAG,CACjB,IAAMG,EAAO,2BACR1C,GADQ,IAEXE,SAAU,IAEZuB,EAAS,GAAD,mBAAKhB,GAAL,CAAYiC,SACf,CACL,IAAMC,EAAWlC,EAAMV,KAAI,SAAC0C,EAAWG,GACrC,OAAIA,IAAUL,EACL,2BACFE,GADL,IAEEvC,WAAYuC,EAAUvC,WAGjBuC,KAGXhB,EAASkB,GAEXd,EAAa7B,EAAKhB,SAoEf0C,GACC,cAAClB,EAAD,CACEC,MAAOA,EACPN,eAAgBA,EAChBE,eAtCe,SAACwC,GACtB,IAAMF,EAAWlC,EAAMqC,QAAO,SAACjC,GAAD,OAAQA,EAAGtC,KAAOsE,KAChDpB,EAASkB,IAqCHrC,eAtEe,SAACuC,GACtB,IAAMF,EAAWlC,EAAMV,KAAI,SAACC,GAC1B,OAAIA,EAAKzB,KAAOsE,EACP,2BACF7C,GADL,IAEEE,WAAYF,EAAKE,SAAW,IAAMF,EAAKE,SAAW,IAG7C,eACFF,MAITyB,EAASkB,IA0DHpC,eAxDe,SAACsC,GACtB,IAAMF,EAAWlC,EAAMV,KAAI,SAACC,GAC1B,OAAIA,EAAKzB,KAAOsE,EACP,2BACF7C,GADL,IAEEE,WAAYF,EAAKE,WAGZ,eACFF,MAITyB,EAASkB,MA8CNf,GAAa,cAACd,EAAD,CAAO9B,KAAM4C,EAAWb,WArBvB,WACjBc,EAAa,UCjFFkB,MAVf,WACE,OACE,qCACE,cAAC3E,EAAD,IACA,cAACgD,EAAD,IACA,cAAC1C,EAAD,Q,MCJNsE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.98ab9c1e.chunk.js","sourcesContent":["export function Header() {\n  return (\n    <nav className=\"green darken-1\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#!\" className=\"brand-logo\">\n          React Toy-Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a\n              href=\"https://github.com/IlyaMur/react_shop\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Repo\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n","function Footer() {\n  return (\n    <footer className=\"page-footer green lighten-4\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          Â© {new Date().getFullYear()} Copyright Text\n          <a\n            className=\"grey-text text-lighten-4 right\"\n            href=\"https://github.com/IlyaMur/react_shop\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport { Footer };\n","function Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  );\n}\n\nexport { Preloader };\n","function GoodsItem(props) {\n  let { id, name, description, price, full_background, addToCart } = props;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img id=\"back-img\" src={full_background} alt={name} />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button className=\"btn\" onClick={() => addToCart({ id, name, price })}>\n          Buy\n        </button>\n        <span className=\"right\" style={{ fontSize: \"1.8rem\" }}>\n          {price} rub.\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport { GoodsItem };\n","import { GoodsItem } from \"./GoodsItem\";\n\nfunction GoodsList(props) {\n  const { goods = [], addToCart = Function.prototype } = props;\n\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.id} {...item} addToCart={addToCart} />\n      ))}\n    </div>\n  );\n}\n\nexport { GoodsList };\n","function Cart(props) {\n  const { quantity = 0, handleCartShow = Function.prototype } = props;\n\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleCartShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity} </span> : null}\n    </div>\n  );\n}\n\nexport { Cart };\n","function CartItem(props) {\n  const {\n    id,\n    name,\n    price,\n    quantity,\n    removeFromCart = Function.prototype,\n    decreaseAmount = Function.prototype,\n    increaseAmount = Function.prototype,\n  } = props;\n\n  return (\n    <li className=\"collection-item\">\n      {name}\n      <i\n        className=\"material-icons cart-quantity\"\n        onClick={() => decreaseAmount(id)}\n      >\n        remove\n      </i>\n      x{quantity}\n      <i\n        className=\"material-icons cart-quantity\"\n        onClick={() => increaseAmount(id)}\n      >\n        add\n      </i>\n      = {price * quantity} rub.\n      <span className=\"secondary-content\" onClick={() => removeFromCart(id)}>\n        <i className=\"material-icons cart-delete\">close</i>\n      </span>\n    </li>\n  );\n}\n\nexport { CartItem };\n","import { CartItem } from \"./CartItem\";\n\nfunction CartList(props) {\n  const {\n    order = [],\n    handleCartShow = Function.prototype,\n    removeFromCart = Function.prototype,\n    decreaseAmount = Function.prototype,\n    increaseAmount = Function.prototype,\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => sum + el.price * el.quantity, 0);\n\n  return (\n    <ul className=\"collection cart-list\">\n      <li className=\"collection-item active\">Cart</li>\n      {order.length ? (\n        order.map((item) => (\n          <CartItem\n            key={item.id}\n            {...item}\n            removeFromCart={removeFromCart}\n            decreaseAmount={decreaseAmount}\n            increaseAmount={increaseAmount}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item\"> Cart is empty </li>\n      )}\n\n      <li className=\"collection-item active\">Total price: {totalPrice} rub.</li>\n      <li className=\"collection-item right\">\n        <button className=\"btn\"> Make order </button>\n      </li>\n\n      <i className=\"material-icons cart-close\" onClick={handleCartShow}>\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport { CartList };\n","import { useEffect } from \"react\";\n\nfunction Alert(props) {\n  const { name = \"\", closeAlert = Function.prototype } = props;\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 2000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{name} added to the Cart</div>\n    </div>\n  );\n}\n\nexport { Alert };\n","import { useState, useEffect } from \"react\";\n\nimport { Preloader } from \"./Preloader\";\nimport { GoodsList } from \"./GoodsList\";\nimport { Cart } from \"./Cart\";\nimport { CartList } from \"./CartList\";\nimport { Alert } from \"./Alert\";\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isCartShow, setCartShow] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const access = process.env.REACT_APP_KEY;\n\n  const addToCart = (item) => {\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\n\n    if (itemIndex < 0) {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      };\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem, index) => {\n        if (index === itemIndex) {\n          return {\n            ...orderItem,\n            quantity: ++orderItem.quantity,\n          };\n        } else {\n          return orderItem;\n        }\n      });\n      setOrder(newOrder);\n    }\n    setAlertName(item.name);\n  };\n\n  const decreaseAmount = (itemId) => {\n    const newOrder = order.map((item) => {\n      if (item.id === itemId) {\n        return {\n          ...item,\n          quantity: --item.quantity > 0 ? --item.quantity : 0,\n        };\n      } else {\n        return {\n          ...item,\n        };\n      }\n    });\n    setOrder(newOrder);\n  };\n  const increaseAmount = (itemId) => {\n    const newOrder = order.map((item) => {\n      if (item.id === itemId) {\n        return {\n          ...item,\n          quantity: ++item.quantity,\n        };\n      } else {\n        return {\n          ...item,\n        };\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const removeFromCart = (itemId) => {\n    const newOrder = order.filter((el) => el.id !== itemId);\n    setOrder(newOrder);\n  };\n\n  const handleCartShow = () => {\n    setCartShow(!isCartShow);\n  };\n\n  useEffect(function getGoods() {\n    fetch(\"https://fortniteapi.io/v1/shop?lang=en\", {\n      headers: {\n        Authorization: access,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        data.featured && setGoods(data.featured);\n        setLoading(false);\n      });\n  }, []);\n\n  const closeAlert = () => {\n    setAlertName(\"\");\n  };\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleCartShow={handleCartShow} />\n      {loading ? (\n        <Preloader />\n      ) : (\n        <GoodsList goods={goods} addToCart={addToCart} />\n      )}\n      {isCartShow && (\n        <CartList\n          order={order}\n          handleCartShow={handleCartShow}\n          removeFromCart={removeFromCart}\n          decreaseAmount={decreaseAmount}\n          increaseAmount={increaseAmount}\n        />\n      )}\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    </main>\n  );\n}\n\nexport { Shop };\n","import { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { Shop } from \"./components/Shop\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}